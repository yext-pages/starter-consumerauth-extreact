import { useAnalytics } from './useAnalytics';
import { useSearchState } from '@yext/search-headless-react';
export function useSearchBarAnalytics() {
    const analytics = useAnalytics();
    const verticalKey = useSearchState(state => state.vertical.verticalKey);
    const queryId = useSearchState(state => state.query.queryId);
    const reportAutocompleteEvent = (suggestedSearchText) => {
        analytics === null || analytics === void 0 ? void 0 : analytics.report(Object.assign(Object.assign({ type: 'AUTO_COMPLETE_SELECTION' }, (queryId && { queryId })), { suggestedSearchText }));
    };
    const reportSearchClearEvent = () => {
        if (!queryId) {
            console.error('Unable to report a search clear event. Missing field: queryId.');
            return;
        }
        analytics === null || analytics === void 0 ? void 0 : analytics.report({
            type: 'SEARCH_CLEAR_BUTTON',
            queryId,
            verticalKey
        });
    };
    const reportAnalyticsEvent = (analyticsEventType, suggestedSearchText) => {
        if (!analytics) {
            return;
        }
        analyticsEventType === 'AUTO_COMPLETE_SELECTION'
            ? reportAutocompleteEvent(suggestedSearchText || '')
            : reportSearchClearEvent();
    };
    return reportAnalyticsEvent;
}
//# sourceMappingURL=useSearchBarAnalytics.js.map