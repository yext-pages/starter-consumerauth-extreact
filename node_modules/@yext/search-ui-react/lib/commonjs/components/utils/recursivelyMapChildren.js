"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.recursivelyMapChildren = void 0;
const react_1 = require("react");
/**
 * Recursively performs React.Children.map on a given ReactNode.
 */
function recursivelyMapChildren(children, elementReplacer) {
    return react_1.Children.map(children, (c, index) => {
        if (!(0, react_1.isValidElement)(c)) {
            return c;
        }
        const replacedElement = elementReplacer(c, index);
        if (!replacedElement || !(0, react_1.isValidElement)(replacedElement)) {
            return replacedElement;
        }
        const grandchildren = replacedElement.props.children;
        if (!grandchildren) {
            return replacedElement;
        }
        const replacedGrandchildren = recursivelyMapChildren(grandchildren, elementReplacer);
        return (0, react_1.cloneElement)(replacedElement, { children: replacedGrandchildren });
    });
}
exports.recursivelyMapChildren = recursivelyMapChildren;
//# sourceMappingURL=recursivelyMapChildren.js.map