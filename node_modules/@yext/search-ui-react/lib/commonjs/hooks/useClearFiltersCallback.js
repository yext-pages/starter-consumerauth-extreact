"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useClearFiltersCallback = void 0;
const search_headless_react_1 = require("@yext/search-headless-react");
const react_1 = require("react");
const search_operations_1 = require("../utils/search-operations");
/**
 * Clears static filters and facets, resets the search offset to 0, and runs a search.
 *
 * @internal
 */
function useClearFiltersCallback() {
    const searchActions = (0, search_headless_react_1.useSearchActions)();
    const staticFilters = (0, search_headless_react_1.useSearchState)(state => state.filters.static);
    return (0, react_1.useCallback)(() => {
        searchActions.setOffset(0);
        searchActions.resetFacets();
        staticFilters && searchActions.setStaticFilters(staticFilters.map(f => {
            return Object.assign(Object.assign({}, f), { selected: false });
        }));
        (0, search_operations_1.executeSearch)(searchActions);
    }, [searchActions, staticFilters]);
}
exports.useClearFiltersCallback = useClearFiltersCallback;
//# sourceMappingURL=useClearFiltersCallback.js.map