"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePaginationAnalytics = void 0;
const useAnalytics_1 = require("./useAnalytics");
const search_headless_react_1 = require("@yext/search-headless-react");
function usePaginationAnalytics() {
    const analytics = (0, useAnalytics_1.useAnalytics)();
    const verticalKey = (0, search_headless_react_1.useSearchState)(state => state.vertical.verticalKey);
    const queryId = (0, search_headless_react_1.useSearchState)(state => state.query.queryId);
    const reportPaginateEvent = (newPage, currentPage, totalPageCount) => {
        if (!analytics) {
            return;
        }
        if (!queryId) {
            console.error('Unable to report a pagination event. Missing field: queryId.');
            return;
        }
        if (!verticalKey) {
            console.error('Unable to report a pagination event. Missing field: verticalKey.');
            return;
        }
        analytics.report({
            type: 'PAGINATE',
            queryId: queryId,
            verticalKey: verticalKey,
            newPage,
            currentPage,
            totalPageCount
        });
    };
    return reportPaginateEvent;
}
exports.usePaginationAnalytics = usePaginationAnalytics;
//# sourceMappingURL=usePaginationAnalytics.js.map