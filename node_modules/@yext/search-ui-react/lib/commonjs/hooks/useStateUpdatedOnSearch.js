"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useStateUpdatedOnSearch = void 0;
const search_headless_react_1 = require("@yext/search-headless-react");
const react_1 = require("react");
/**
 * Selects a portion Answers State, snapshotted to the last time a search was completed.
 */
function useStateUpdatedOnSearch(stateSelector) {
    const isLoading = (0, search_headless_react_1.useSearchState)(state => state.searchStatus.isLoading);
    const wasLoading = (0, react_1.useRef)(isLoading);
    const currentState = (0, search_headless_react_1.useSearchState)(stateSelector);
    const snapshottedState = (0, react_1.useRef)(currentState);
    if (!isLoading && wasLoading.current) {
        snapshottedState.current = currentState;
    }
    wasLoading.current = isLoading;
    return snapshottedState.current;
}
exports.useStateUpdatedOnSearch = useStateUpdatedOnSearch;
//# sourceMappingURL=useStateUpdatedOnSearch.js.map