import { isNode, isDeno, isBrowser } from "browser-or-node";
class Runtime {
  name;
  isServerSide;
  version;
  constructor() {
    if (isDeno) {
      this.name = "deno";
      this.version = "";
      if (isBrowser) {
        this.version = window.Deno?.version.deno || "";
      }
      this.isServerSide = true;
    } else if (isNode) {
      this.name = "node";
      this.version = process.versions.node;
      this.isServerSide = true;
    } else if (isBrowser) {
      this.name = "browser";
      this.version = navigator.userAgent;
      this.isServerSide = false;
    } else {
      this.name = "unknown";
      this.version = "";
      this.isServerSide = false;
    }
  }
  getNodeMajorVersion() {
    if (this.name != "node") {
      throw new Error("Not running in Node.");
    }
    return +this.version.split(".")[0];
  }
}
const getRuntime = () => {
  return new Runtime();
};
export {
  getRuntime
};
