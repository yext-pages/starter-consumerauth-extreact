var e=require("react"),n=require("react-dom");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(require("tiny-warning"));function r(){return r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)}function i(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n.indexOf(t=i[o])>=0||(r[t]=e[t]);return r}var l=function(){};function a(e){return null!=e&&e.current?e.current.scrollHeight:(o.default(!0,"useCollapse was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\n{...getCollapseProps({refKey: 'innerRef'})}"),"auto")}var u=function(){var e=arguments;return function(){var n=arguments;return[].slice.call(e).forEach(function(e){return e&&e.apply(void 0,[].slice.call(n))})}};function c(e,n){if(null!=e)if("function"==typeof e)e(n);else try{e.current=n}catch(t){throw new Error('Cannot assign value "'+n+'" to ref "'+e+'"')}}var d="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,s=!1,f=0,p=function(){return++f},h=["duration","easing","collapseStyles","expandStyles","onExpandStart","onExpandEnd","onCollapseStart","onCollapseEnd","isExpanded","defaultExpanded","hasDisabledAnimation"],v=["disabled","onClick"],g=["style","onTransitionEnd","refKey"];module.exports=function(t){var f,m,y=void 0===t?{}:t,E=y.duration,x=y.easing,b=void 0===x?"cubic-bezier(0.4, 0, 0.2, 1)":x,C=y.collapseStyles,w=void 0===C?{}:C,S=y.expandStyles,k=void 0===S?{}:S,q=y.onExpandStart,A=void 0===q?l:q,O=y.onExpandEnd,P=void 0===O?l:O,T=y.onCollapseStart,D=void 0===T?l:T,R=y.onCollapseEnd,j=void 0===R?l:R,F=y.isExpanded,K=y.defaultExpanded,N=void 0!==K&&K,z=y.hasDisabledAnimation,H=void 0!==z&&z,I=i(y,h),M=function(n,t){var r=e.useState(t||!1),i=r[0],l=r[1],a=e.useRef(null!=n),u=a.current?n:i,c=e.useCallback(function(e){a.current||l(e)},[]);return e.useEffect(function(){o.default(!(a.current&&null==n),"useCollapse is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),o.default(!(!a.current&&null!=n),"useCollapse is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")},[n]),[u,c]}(F,N),B=M[0],L=M[1],V=function(n){var t=s?p():null,o=e.useState(t),r=o[0],i=o[1];return d(function(){null===r&&i(p())},[]),e.useEffect(function(){!1===s&&(s=!0)},[]),null!=r?String(r):void 0}(),_=e.useRef(null);f=_,m=function(e){},"production"!==process.env.NODE_ENV&&(m=function(e){if(null!=e&&e.current){var n=window.getComputedStyle(e.current),t=n.paddingTop,r=n.paddingBottom;o.default(!(t&&"0px"!==t||r&&"0px"!==r),"react-collapsed: Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element.")}}),e.useEffect(function(){m(f)},[f]);var G,J,Q,U=(I.collapsedHeight||0)+"px",W={display:"0px"===U?"none":"block",height:U,overflow:"hidden"},X=e.useState(B?{}:W),Y=X[0],Z=X[1],$=function(e){n.flushSync(function(){Z(e)})},ee=function(e){$(function(n){return r({},n,e)})};function ne(e){if(H)return{};var n=E||function(e){if(!e||"string"==typeof e)return 0;var n=e/36;return Math.round(10*(4+15*Math.pow(n,.25)+n/5))}(e);return{transition:"height "+n+"ms "+b}}G=function(){B?requestAnimationFrame(function(){A(),ee(r({},k,{willChange:"height",display:"block",overflow:"hidden"})),requestAnimationFrame(function(){var e=a(_);ee(r({},ne(e),{height:e}))})}):requestAnimationFrame(function(){D();var e=a(_);ee(r({},w,ne(e),{willChange:"height",height:e})),requestAnimationFrame(function(){ee({height:U,overflow:"hidden"})})})},J=[B,U],Q=e.useRef(!0),e.useEffect(function(){if(!Q.current)return G();Q.current=!1},J);var te=function(e){if(e.target===_.current&&"height"===e.propertyName)if(B){var n=a(_);n===Y.height?$({}):ee({height:n}),P()}else Y.height===U&&($(W),j())};return{getToggleProps:function(e){var n=void 0===e?{}:e,t=n.disabled,o=void 0!==t&&t,a=n.onClick,c=void 0===a?l:a,d=i(n,v);return r({type:"button",role:"button",id:"react-collapsed-toggle-"+V,"aria-controls":"react-collapsed-panel-"+V,"aria-expanded":B,tabIndex:0,disabled:o},d,{onClick:o?l:u(c,function(){return L(function(e){return!e})})})},getCollapseProps:function(e){var n,t=void 0===e?{}:e,o=t.style,a=void 0===o?{}:o,d=t.onTransitionEnd,s=void 0===d?l:d,f=t.refKey,p=void 0===f?"ref":f,h=i(t,g);return r({id:"react-collapsed-panel-"+V,"aria-hidden":!B},h,((n={})[p]=function(){var e=[].slice.call(arguments);return e.every(function(e){return null==e})?null:function(n){e.forEach(function(e){c(e,n)})}}(_,h[p]),n.onTransitionEnd=u(te,s),n.style=r({boxSizing:"border-box"},a,Y),n))},isExpanded:B,setExpanded:L}};
//# sourceMappingURL=react-collapsed.js.map
